@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{ }


@model IEnumerable<WebAppForWebshop.Models.CartAndProduct>
<h1>Checkout</h1>



@{decimal temp = 0;
<table class="table">
    <thead>
        <tr>
            @*<th>
                    @Html.DisplayNameFor(model => model.CartId)
                </th>*@
            <th>
                @Html.DisplayNameFor(model => model.ProductId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductImage)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PricePerItem)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quantity)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TotalPrice)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateCreated)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            temp = temp + item.TotalPrice;

<tr>
    @*<td>
            @Html.DisplayFor(modelItem => item.CartId)
        </td>*@
    <td>
        @Html.DisplayFor(modelItem => item.ProductId)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.ProductName)
    </td>
    <td>
        <img src=" @Html.DisplayFor(modelItem => item.ProductImage)" />
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.PricePerItem)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Quantity)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.TotalPrice)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.DateCreated)
    </td>
    <td>
        <a asp-action="Edit" asp-route-id="@item.ItemId">Edit</a> |
        <a asp-action="Details" asp-route-id="@item.ItemId">Details</a>
        <a asp-action="Delete" asp-route-id="@item.ItemId">Delete</a>
        @*<a asp-controller="ShoppingCart" asp-action="AddToCart" asp-route-id="@item.Id">Add To Cart</a>*@
    </td>
</tr>}
        <tr>
            <td>TOTAL PRICE OF ORDER</td>
            <td>@temp</td>
        </tr>
    </tbody>
</table> }
<button>Confirm Purchase</button>
<br />
<button>Back to Shopping Cart</button>